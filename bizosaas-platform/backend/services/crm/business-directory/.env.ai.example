# Business Directory Service with AI - Environment Configuration
# Copy this file to .env and configure your values

# =============================================================================
# AI CONFIGURATION
# =============================================================================

# OpenAI API Key (required for full AI features)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# AI Features Toggle (true/false)
AI_ENABLED=true

# AI Model Configuration
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# =============================================================================
# DATABASE CONFIGURATION  
# =============================================================================

# PostgreSQL Connection
POSTGRES_URL=postgresql://postgres:password@localhost:5432/bizosaas
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=bizosaas
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password

# Database Pool Configuration
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=30
POSTGRES_POOL_TIMEOUT=30

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Redis Connection
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cache TTL Settings (in seconds)
CACHE_TTL_SHORT=300     # 5 minutes
CACHE_TTL_MEDIUM=1800   # 30 minutes  
CACHE_TTL_LONG=3600     # 1 hour

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# Service Settings
PORT=8000
HOST=0.0.0.0
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=INFO          # DEBUG, INFO, WARNING, ERROR

# Service URLs
BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# =============================================================================
# API CONFIGURATION
# =============================================================================

# CORS Settings
ALLOWED_ORIGINS=*
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60    # seconds

# API Keys and Secrets
API_SECRET_KEY=your-secret-key-here
JWT_SECRET=your-jwt-secret-here
JWT_EXPIRATION=86400    # 24 hours

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@bizosaas.com

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT=30

# Third-party APIs
GOOGLE_API_KEY=
YELP_API_KEY=
FACEBOOK_ACCESS_TOKEN=

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Application Monitoring
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=

# Analytics
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=

# Metrics Collection
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Security Headers
SECURITY_HEADERS_ENABLED=true
HTTPS_ONLY=false        # Set to true in production
SECURE_COOKIES=false    # Set to true in production with HTTPS

# Authentication
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_FACEBOOK_CLIENT_ID=
OAUTH_FACEBOOK_CLIENT_SECRET=

# =============================================================================
# FILE STORAGE
# =============================================================================

# Local Storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760  # 10MB in bytes

# Cloud Storage (optional)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_REGION=us-east-1

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development Mode
DEBUG=true
RELOAD=true
WORKERS=1

# Testing
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/bizosaas_test
PYTEST_TIMEOUT=30

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# Uncomment and modify for production deployment

# ENVIRONMENT=production
# DEBUG=false
# RELOAD=false
# WORKERS=4
# HTTPS_ONLY=true
# SECURE_COOKIES=true
# LOG_LEVEL=WARNING
# ALLOWED_ORIGINS=https://yourdomain.com,https://api.yourdomain.com

# =============================================================================
# DOCKER SPECIFIC
# =============================================================================

# Docker Compose Overrides
COMPOSE_PROJECT_NAME=bizosaas-directory
COMPOSE_HTTP_TIMEOUT=120

# Container Resource Limits
POSTGRES_MAX_CONNECTIONS=100
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

# Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Dependency Health Checks
CHECK_DATABASE=true
CHECK_REDIS=true
CHECK_AI_SERVICES=true

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./backups

# Recovery Settings
AUTO_RECOVERY=false
RECOVERY_TIMEOUT=300